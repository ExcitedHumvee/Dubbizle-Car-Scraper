
datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model Car {
  listingId         String        @id
  detailPageUrl     String?
  title             String?
  price             Int?
  sellerType        String?
  isNegotiable      Boolean?
  thumbnailUrl      String?
  year              Int?
  mileage           Int?
  location          String?
  interiorColor     String?
  horsepower        String?
  exteriorColor     String?
  doors             String?
  bodyType          String?
  seatingCapacity   String?
  cylinders         String?
  transmissionType  String?
  engineCapacity    String?
  trim              String?
  warranty          String?
  fuelType          String?
  vehicleReference  String?
  make              String?
  model             String?
  motorsTrim        String?
  createdAt         DateTime?
  isVerifiedUser    Boolean?
  isPremium         Boolean?
  neighbourhood     String?
  added             DateTime?
  last_updated      DateTime      @updatedAt
  history           CarHistory[]
  features          CarFeature[]
}

model CarHistory {
  history_id  Int      @id @default(autoincrement())
  car         Car      @relation(fields: [listingId], references: [listingId])
  listingId   String
  price       Int?
  mileage     Int?
  changed_at  DateTime @default(now())
}

model CarFeature {
  feature_id   Int    @id @default(autoincrement())
  car          Car    @relation(fields: [listingId], references: [listingId])
  listingId    String
  feature_type String // 'badge', 'extra', or 'technical'
  feature_name String
}
